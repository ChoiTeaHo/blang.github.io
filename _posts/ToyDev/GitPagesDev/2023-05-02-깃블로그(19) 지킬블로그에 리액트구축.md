---
title:  "깃블로그(18) 지킬블로그에 리액트구축"
excerpt: "깃블로그(18) 지킬블로그에 리액트구축 입니다."
categories:
  - gitpages-dev
tags:
  - [git, github, dev]
toc: true
toc_sticky: true
last_modified_at: 2023-05-02T20:00:00-05:00
---

## 개요
> 참고블로그  
> [https://donghyuna.github.io/react/jyikil,-reactsetup/](https://donghyuna.github.io/react/jyikil,-reactsetup/)
  
  
  
## STEP1. 지킬블로그 공간에 react 프로젝트 생성
리액트 프로젝트 생성 관련한 상세한 내용은 생략한다.

```bash
npx create-react-app blang-react-pages  #프로젝트명

```

## STEP2. 배포 전용 폴더 생성
생성 및 작업한 리액트 프로젝트를 블로그에 복사

```bash
cp -R ./blang-react-pages ../blangs.github.io

```

## STEP3. 개발전용 파일을 배포하지 않도록 하기
### .gitignore
깃허브에 커밋할때 node_modules이나 빌드한 결과를 제외할 수 있도록 한다. 

```bash
# CTH ADD
blang-react-pages/node_modules/
blang-react-pages/build/

```

### _config.yml
지킬에서 react 개발에 필요한 프로젝트 폴더를 알 필요는 없으므로 이를 제외하도록 한다. 아래 구문을 새롭게 추가한다. (exclude가 존재할텐데 가장 마지막에 작성하면 된다.)

```yml
exclude:
  (중략)
  - node_modules
  - blang-react-pages

```

## STEP4. react페이지가 표시될 주소 정하기
본인은 리액트 페이지가 `[나의깃주소]/blang-react-pages` 의 주소에서 표시 되도록 작성해보았다.  
위에서 생성한 `react프로젝트 폴더 내부`에 package.json파일을 열어 아래와 같은 내용을 추가한다.

### package.json
```json
"homepage": "/blang-react-pages/"

```

## STEP5. 빌드 및 배포 스크립트 작성
react 페이지를 배포하기 위해서는 우선 빌드를 하고 빌드된 결과를 배포전용 폴더에 옮겨준 뒤 커밋하면 배포가 완료된다. 위의 내용을 편하게 하기 위해 react프로젝트 폴더 내부의 package.json파일에 아래의 내용을 추가한다.

```json
"scripts": {
  "start": "react-scripts start",
  "build": "react-scripts build",
  "test": "react-scripts test",
  "eject": "react-scripts eject",
  // 추가 위치
},

```

### 운영체제가 window인 경우(yarn 의 경우)
```json
    "predeploy": "npm run build",
    "purge": "rmdir /s /q ..\\react-pages\\static && xcopy .\\build\\* ..\\react-pages\\ /E /y",
    "deploy": "npm run purge && npm run frontmatter"

```

### 운영체제가 리눅스인 경우(yarn 의 경우)
```json
  "predeploy": "npm run build",
  "purge": "rm -rf ../awesome-tools/static && cp -fR ./build/* ../awesome-tools",
  "frontmatter": "echo '---\ntitle: Awesome Tools\nlayout: null\n---\n' | cat - ../awesome-tools/index.html > temp && mv temp ../awesome-tools/index.html",
  "deploy": "npm run purge && npm run frontmatter"

```

### 실행
```bash
yarn run deploy

```
프로젝트를 빌드하고, 결과를 배포 폴더에 옮긴다.
위의 과정을 성공적으로 완료하였다면, 내용들을 커밋하여 준다.
  
`[나의깃주소]/blang-react-pages` 에 접속하여 react기본 프로젝트 페이지가 보이는 것을 확인한다. (앞으로 저 페이지를 꾸밀 것이기 때문에 내용은 사진으로 대체한다.)


## 여기서부터 나의 구현
위 내용은 배포폴더와 개발폴더를 구분하여 작성한 글이다. 나의 경우는 간단하게 구현하므로 개발&배포하는 리액트프로젝트 폴더를 1개로 통합하여 사용한다.

### /blang-react-pages/.gitignore
깃허브에 커밋할때 빌드한 결과를 알 수 있도록 업로드하기 위해 주석처리한다.

```bash
# /build

```

### /.gitignore
깃허브에 커밋할때 빌드한 결과를 알 수 있도록 업로드를 해야하기 때문에 주석처리한다.

```bash
# CTH ADD
blang-react-pages/node_modules/
# blang-react-pages/build/

```

### /_config.yml
지킬에서 react 개발에 필요한 프로젝트 폴더를 알아야 하므로 주석석처리 한다.

```yml
exclude:
  (중략)
  - node_modules
  # - blang-react-pages

```

### cp -R ./build/* .
리액트 프로젝트 루트에 bulid 안의 내용을 몽땅 넣는다.

```bash
# 간단한 엔트리포인트 하나만 보여주려고 테스트목적으로 만들었으므로 그냥 다 넣었다.
cp -R ./build/* .

```

## 최종 결과
```
https://git.blang.co.kr/blang-react-pages/

```

접속하면 정상적으로 내 리액트의 엔트리포인트 파일일과 컴포넌트들이 실행됨을 알 수 있다.

> 지킬에서 리액트앱 띄우기 성공.