---
title:  "라즈베리파이(2) 증설"
excerpt: "라즈베리파이(2) 증설입니다."
categories:
  - web-service-dev
tags:
  - [web, dev]
toc: true
toc_sticky: true

last_modified_at: 2022-10-12T20:00:00-05:00
---

# 라즈베리파이 증설
## 증설 개요
  : 실제 물리적 서버를 분리, 구축하여 이중화, 클러스터링 등의 기술을 적용한 환경을 혼자서 구성하고 여기에 작동되는 Spirng 프레임워크 기반의 웹사이트를 만들고 싶었다. (인프라는 대부분 이미 구축되어있기때문에... 내가 개발에 투입되면 이 서버가 어떻게 서버간 효율적인 프로세스를 가지고 자원공유를 하는지 궁금했다. ) 이러한 이유로 저렴한 라즈베리파이를 추가증설 하기로 하였으며, 마침 중고거래사이트에서 좋은 구성의 매물이 나왔다.


## 라즈베리파이 증설 제품
  : 다음과 같은 제품이 매물로 나왔다.  

    - ​라즈베리파이4 4GB * 3
    - 삼성 64GB (TLC) * 3
    - PoE 스플리터 (PoE HAT) * 3
    - PoE 인젝터(PoE 허브 IPTIME 4포트) * 1
    - 타워케이스

    
### 라즈베리파이4 4GB
  : 기존 구매한 라즈베리파이와 동일한 4모델이지만 메모리용량이 더작은 4GB 이다.
  
### 삼성 64GB (TLC)
  : 각 라즈베리파이에 기본적으로 넉넉한 용량의 sd메모리카드도 포함되어있었다. 상대적으로 안전한 MLC지만 중고라서 언제 고장날지 불안하다.

### PoE 스플리터 (PoE HAT)
  : PoE Hat 이란 라즈베리파이가 PoE 기능을 사용할 수 있도록 도와주는 추가 장비이다.

### PoE 인젝터 (PoE 허브 IPTIME 4포트)
  : PoE 인젝터란 PoE 기능가진 스플리터 장비에 전력을 공급해주는 장비이다. 이는 스위치허브인데 인젝터기능을 지원하는 제품이다.

### 타워케이스
  : 타워처럼 세로로 쌓아주는 케이스. 공간이 더 깔끔해졌다.


## PoE
  : 전력공급을 별도의 어댑터 없이 랜케이블로 가능하게 해주는 네트워크 장비이다. 구매직전 이 제품이 뭔지 몰라서 찾아보았고 나한테 필요한 더욱 필요한 장비라는걸 알게되었다. PoE 장비의 기본적인 구성 개념은 `인젝터`, `스플리터` 가 필수이다.  
  [참고링크](https://m.post.naver.com/viewer/postView.nhn?volumeNo=27447189&memberNo=21060)

  ```bash
  # 판매자님께 답변받은 PoE HAT의 기능
  Power Over Ethernet 약자로 랜선을 통해 전원을 공급 받습니다.
  POE는 인젝터(전원공급장치)와 스플리터 두개가 있어야 하는데 구성품의 POE HAT이 스플리터이고,
  POE인젝터 장비는 별도로 구매 하시거나 게시글에 같이 판매하고 있는 POE 허브를 구매하셔서 사용하면됩니다.
  POE모듈이 GPIO단자를 사용하고 있으니 그점도 참고부탁드립니다.
    
  ```

  랜선으로 전력을 넣어주며 불필요한 전원 어댑터를 최소화 할 수 있는 장비이다. 예를들어 물리적인 서버 수 만큼 장비도 늘어나고 해당 장비에 모두 전원을 인가해줘야 할것이다. (전원 콘센트가 각 장비마다 필요하므로 어댑터 코드가 많이 필요하면 콘센트를 많이잡아먹는다..) 이 PoE 개념의 장비가 있으면 복잡한 선없이 간소화된 랜선하나로 여러 PoE장비에 전원을 인가한다.  


### 라즈베리파이 PoE 구성
  : 구매한 라즈베리파이에 사용된 PoE 구성이다.

* PoE 스플린터 (PoE HAT)
  : 라즈베리파이는 스플리터를 본체 자체가 지원하지는 않고  GPIO 핀에 스플리터 기능을 지원하는 기계를 장착해서 사용한다. 이것이 PoE HAT 이라는 장비이며, 모자처럼 생겻다고하여 붙여진 이름이다.

* PoE 인젝터 (iptime PoE5000)
  : 라즈베리파이는 PoE HAT 으로 스플리터 기능을 가지게 되었고, 이제 전원을 인가해주는 장비가 필요한데, 이를 PoE인젝터라고 한다. 어댑터형태로 있기도한데, 나는 판매자분께 스위칭허브에 인젝터기능을 달아놓은 제품을 함께 구매했다.  

### 라즈베리파이 전원공급 고찰 
> # 전원공급에 관한 고찰  
> 라즈베리파이는 소형PC 이므로 전원공급에 신경을 써야한다.  
> 라즈베리파이가 안정적으로 동작하기 위해서는 5V 3A 이상의 전력을 공급해주어야 한다.
> 구매한 PoE HAT은 802.3 af PoE를 지원하며, 15.4W (최소 12.95W)의 전원을 공급할 수 있다. 이는 라즈베리파이의 전원인 5V로 계산 시 3A(최소 2.5A)가 된다. (스플린터 조건 충족)
> 구매한 PoE 인젝터는 v802.3af 표준을 지원하며, 4포트 모두 사용시 각 포트당 15.4W 전력을, 전체 포트에 대해서는 총 65W 전력을 지원한다.
> 내가 구매한 스플린터, 인젝터는 동작시 안정범위 내로 확인된다.

