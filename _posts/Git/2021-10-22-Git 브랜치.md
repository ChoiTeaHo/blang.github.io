---
title:  "Git 브랜치"
excerpt: "Git 브랜치 입니다."

categories:
  - git
tags:
  - [git, gitgub]

toc: true
toc_sticky: true

last_modified_at: 2022-10-22T20:00:00-05:00
---

## 깃 브랜치 로컬/원격 연동

### STEP1. 비주얼코드 깃 연동
```
(생략)
```

### STEP2. AS-IS 나의 브랜치 확인
```bash
cd C:\KBCard\bck-frontend  # 깃 경로

```

```bash
# git branch  (로컬 브랜치 목록 조회)
git branch
* master
  
```
> 💡master 라는 브랜치가 하나 만들어짐.  
> 💡master는 저장소를 만들면 기본적으로 생성되는 브랜치.

### STEP3. 브랜치 생성
```bash
# 신규 브랜치 생성
git branch newbranch
git branch newbranch2

```


### STEP4. 브랜치 확인
![사진1](/assets/images/Git/git-branch1.jpg)  
  
- <span style="color:green"><I><b>기본 명령어</b></I></span>  

    ```bash
    # 신규 브랜치 확인
    git branch
    * master
      newbranch
      newbranch2

    ```

    > 💡브랜치 옆 * 표시는 현재 작업중인 브랜치.

- <span style="color:green"><I><b>깃로그 명령어</b></I></span>  

    ```bash
    # 로그확인 (상세하게 확인하는 방법)
    git log
    commit 9662ff3806604ee6fa1b422e0fe698c78e3ec08d (HEAD -> master, newbranch, newbranch2)
    Author: TaeHo Choi <layup3@naver.com>
    Date:   Sun Jul 30 13:24:19 2023 +0900

    commit 21fe9197ecb4e2a36be1c3e8f7da2a3c3e324d82
    Author: TaeHo Choi <layup3@naver.com>
    Date:   Sun Jul 30 13:24:10 2023 +0900

    commit 4759017c060621644835058cb0dbff0bbfae72f9

    ```

    ```js
    // 로그확인 (간단하게 확인하는 방법)
    git log --oneline
    9662ff3 (HEAD -> master, newbranch, newbranch2) 
    21fe919
    4759017 Initialize project using Create React App

    ```
    > 💡***HEAD ->*** 가 가르키는 브랜치가 현재 작업중인 브랜치.  
    > 💡***git log --oneline*** 는 로그를 간략하게 보여주는 명령어. (커밋 로그를 한 줄씩 간략하게 출력)


### STEP5. (master 브랜치) 신규건 생성/작업/커밋

1. <span style="color:green"><I><b>첫번째 </b></I></span>  

    ```bash
    vi /public/study-file1.txt

    # 입력 후 저장
    내용1 입니다.

    ```

    ```bash
    # 커밋
    git add .
    git commit -m '첫번째'      
    [master 5c97963] '첫번째'

    ```

    ```bash
    # 깃로그 확인
    git log --oneline
    5c97963 (HEAD -> master) '첫번째'
    cc6c583 (newbranch2)
    9662ff3 (newbranch)
    21fe919
    4759017 Initialize project using Create React App

    ```

2. <span style="color:green"><I><b>두번째 커밋</b></I></span>  

    ```bash
    vi /public/study-file1.txt

    # 입력 후 저장
    내용1 입니다.
    내용2 입니다.

    ```

    ```bash
    # 커밋
    git add study-file1.txt
    git commit -m '두번째'
    [master 564be84] '두번째'

    ```

    ```bash
    # 깃로그 확인
    git log --oneline       
    564be84 (HEAD -> master) '두번째'
    5c97963 '첫번째'
    cc6c583 (newbranch2)
    9662ff3 (newbranch)
    21fe919
    4759017 Initialize project using Create React App

    ```

3. <span style="color:green"><I><b>세번째 커밋</b></I></span>  

    ```bash
    vi /public/study-file1.txt
 
    # 입력 후 저장
    내용1 입니다.
    내용2 입니다.
    내용3 입니다.

    ```

    ```bash
    # 커밋
    git add study-file1.txt
    git commit -m '세번째'  
    [master 267a63b] '세번째'

    ```

    ```bash
    # 깃로그 확인
    git log --oneline       
    267a63b (HEAD -> master) '세번째'
    564be84 '두번째'
    5c97963 '첫번째'
    cc6c583 (newbranch2)
    9662ff3 (newbranch)
    21fe919
    4759017 Initialize project using Create React App

    ```

    > 💡현재 작업중인 브랜치는 master 이다.  
    > 💡master는 커밋한 내용들을 가르킨다.  
    > 💡나머지 newbranch, newbranch2는 뭐가 없다.


### STEP6. (newbranch 브랜치) 신규건 생성/작업/커밋
> 우선 브랜치를 이동(변경) 한다.  
> 
> ```bash
> git checkout newbranch
> 
> git branch
>   master
> * newbranch
>   newbranch2
> 
> ``` 
>   
> ![사진2](/assets/images/Git/git-branch2.jpg)  
>   
> 설정이 변경되니까 편집기에도 브랜치가 변경되었다.
  
1. <span style="color:green"><I><b>첫번째 </b></I></span>  

    ```bash
    vi /public/study-file1.txt

    파일이없다....

    ```

    파일이 없다.  
    - 이전에 master 가 만든 study-file1.txt 파일이 없다.
    - 즉, master 브랜치가 만든 내용은 모두 없다.
      
    ```bash
    vi /public/study-file2.txt # 신규

    # 입력 후 저장
    내용1 입니다.

    ```

    ```bash
    # 커밋
    git add study-file2.txt
    git commit -m '첫번째(newbranch)'
    [newbranch e7d40d2] '첫번째(newbranch)'
     1 file changed, 1 insertion(+)
     create mode 100644 public/study-file2.txt

    ```
    ```bash
    # 깃로그 확인
    git log --oneline    
    e7d40d2 (HEAD -> newbranch) '첫번째(newbranch)'
    9662ff3
    21fe919
    4759017 Initialize project using Create React App

    ```


2. <span style="color:green"><I><b>두번째 </b></I></span>  

    ```bash
    vi /public/study-file2.txt

    # 입력 후 저장
    내용2 입니다.

    ```
    ```bash
    # 커밋
    git add study-file2.txt
    it commit -m '두번째(newbranch)'  
    [newbranch 934f18d] '두번째(newbranch)'
    1 file changed, 2 insertions(+), 1 deletion(-)

    ```
    ```bash
    # 깃로그 확인
    git log --oneline       
    934f18d (HEAD -> newbranch) '두번째(newbranch)'
    e7d40d2 '첫번째(newbranch)'
    9662ff3
    21fe919
    4759017 Initialize project using Create React App

    ```

3. <span style="color:green"><I><b>세번째 </b></I></span>  

    ```bash
    vi /public/study-file2.txt

    # 입력 후 저장
    내용3 입니다.

    ```
    ```bash
    # 커밋
    git commit -m '세번째(newbranch)'  
    [newbranch 1f4fca6] '세번째(newbranch)'
    1 file changed, 2 insertions(+), 1 deletion(-)

    ```
    ```bash
    # 깃로그 확인
    git log --oneline
    1f4fca6 (HEAD -> newbranch) '세번째(newbranch)'
    934f18d '두번째(newbranch)'
    e7d40d2 '첫번째(newbranch)'
    9662ff3
    21fe919
    4759017 Initialize project using Create React App

    ```

    > 💡현재 작업중인 브랜치는 newbranch 이다.  
    > 💡newbranch는 자신이 커밋한 내용만 가르킨다.  
    > 💡git log 를 보면 master 브랜치 정보 조차 안보인다는 것을 알았다.  
    > 💡즉, 현재 사용중인 브랜치 자신이 모든 작업의 주체이다.



## 브랜치 병합

### 병합 요약
깃허브에서 메인 브랜치와 다른 브랜치를 합치는 방법  
1. 먼저, 다른 브랜치에서 변경사항을 커밋(commit)하고 푸시(push). 
2. 메인 브랜치로 이동하여, 머지(merge)를 실행
3. 메인 브랜치에서 머지 버튼을 클릭하면 자동으로 다른 브랜치의 변경사항이 메인 브랜치에 병합된다. 

    > 만약 브랜치를 삭제할 수 없다면, 일단 메인 브랜치로 변경사항을 병합한 후에 삭제해주세요. 잔디는 심기 어렵다면, 변경사항을 다시 커밋해서 잔디를 심을 수 있어요.


### STEP1. 중간점검
현재상황 점검
```
# 그래프로 확인
git log --oneline --branches --graph

* 1f4fca6 (HEAD -> newbranch) '세번째(newbranch)'
* 934f18d '두번째(newbranch)'
* e7d40d2 '첫번째(newbranch)'
| * 267a63b (master) '세번째'
| * 564be84 '두번째'
| * 5c97963 '첫번째'
| * cc6c583 (newbranch2)

```
- 1f4fca6: newbranch 브랜치의 가장 최근 커밋. (HEAD -> newbranch)는 현재 체크아웃된(사용중인) 브랜치가 newbranch 임을 알 수 있다.
- 934f18d: newbranch 브랜치의 두 번째 커밋
- e7d40d2: newbranch 브랜치의 첫 번째
- 267a63b: master 브랜치의 가장 최근 커밋
- 564be84: master 브랜치의 두 번째 커밋
- 5c97963: master 브랜치의 첫 번째
- cc6c583: newbranch2 브랜치의 커밋은 없다.
    > 이 그래프를 보면 <span style="color:red"><I><b>newbranch와 master 브랜치가 서로 독립적으로 작업</b></I></span>하고 있으며, newbranch2 브랜치는 아직 별도의 커밋을 가지고 있지 않아서 <span style="color:red"><I><b>기존의 커밋들과 분리</b></I></span>되어 있는 것을 확인할 수 있다.




### STEP7. (newbranch 브랜치) 신규건 생성/작업/커밋
> 우선 브랜치를 이동(변경) 한다.  




### TO-BE 나의 브랜치 확인
```bash
# git branch  (로컬 브랜치 목록 조회)
C:\KBCard\bck-frontend>git branch
* master
  newbranch

# git branch -r  (원격 브랜치 목록 조회)
C:\KBCard\bck-frontend>git branch -r
  origin/master
  origin/newbranch

# git branch -a  (모든 브랜치 목록 조회)

C:\KBCard\bck-frontend>git branch
* master
  newbranch
  origin/master
  origin/newbranch
  
```













## 깃 브랜치 tracking 하기


### STEP1. 문제 확인(git pull)
```bash
C:\KBCard\bck-frontend>git pull
There is no tracking information for the current branch.
Please specify which branch you want to merge with.
See git-pull(1) for details.

    git pull <remote> <branch>

If you wish to set tracking information for this branch you can do so with:

    git branch --set-upstream-to=<remote>/<branch> master

```

### STEP2. 트랙킹 하기
```bash
git branch --set-upstream-to=origin/[git 서버의 브랜치명] [local 브랜치명]

```

### 정리
> git에 있는 브랜치를 로컬에서 생성했더라도 
> 로컬은 git 서버의 어떤 브랜치를 tracking 해야할지 모르기 
> 때  문에 설정을 해주어야 한다
