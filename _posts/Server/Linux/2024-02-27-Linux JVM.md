---
title:  "Linux JVM"
excerpt: "Linux JVM 입니다."

categories:
  - linux
tags:
  - [Linux, Ubuntu, Raspbian]

toc: true
toc_sticky: true

last_modified_at: 2023-08-27T20:00:00-05:00
---

```bash
-XX:+HeapDumpOnOutOfMemoryError -Xmx8192m -Xms4096m -XX:+UseG1GC -XX:ReservedCodeCacheSize=64m -XX:+UseCodeCacheFlushing


```

-Xmx8192m: 최대 힙 크기를 8192MB로 설정합니다.
-Xms4096m: 초기 힙 크기를 4096MB로 설정합니다.
-XX:+UseG1GC: Garbage-First(G1) 가비지 컬렉터를 사용합니다.
-XX:ReservedCodeCacheSize=64m: JIT(Just-In-Time) 컴파일러에서 사용하는 코드 캐시의 크기를 64MB로 설정합니다.
-XX:+HeapDumpOnOutOfMemoryError: OutOfMemoryError 발생 시 힙 덤프를 생성합니다.
-XX:+UseCodeCacheFlushing: 코드 캐시 플러시를 사용합니다.
반드시 주의해야 할 것은 -Xmx와 -Xms의 값이 물리적인 메모리 용량을 초과하지 않도록 설정해야 합니다. 또한, 사용하는 JVM 버전에 따라 일부 옵션이나 설정이 다를 수 있으므로 해당 버전의 문서를 참고하는 것이 좋습니다.





가령, 컴퓨터의 물리적인 메모리 용량이 8GB인 경우, -Xmx와 -Xms 옵션은 이 용량을 초과하지 않도록 설정해야 합니다. 여기에 예시를 들어보겠습니다.

예시 1: 안전한 설정

```bash
-Xmx6g -Xms4g

```

이 경우, 최대 힙 크기(-Xmx)는 6GB로 설정되어 있고 초기 힙 크기(-Xms)는 4GB로 설정되어 있습니다. 물리적인 메모리 용량인 8GB 내에서 안전하게 동작할 수 있습니다.

예시 2: 위험한 설정

```bash
-Xmx10g -Xms10g

```

이 경우, 최대 힙 크기와 초기 힙 크기가 모두 10GB로 설정되어 있습니다. 하지만 물리적인 메모리가 8GB이므로 이는 메모리 초과로 이어질 가능성이 있습니다.

안전한 설정은 시스템의 물리적인 메모리 용량을 고려하여 JVM의 힙 크기를 설정하는 것입니다. 초과된 메모리 요구사항은 시스템 성능에 부정적인 영향을 미칠 수 있으므로 주의가 필요합니다.
