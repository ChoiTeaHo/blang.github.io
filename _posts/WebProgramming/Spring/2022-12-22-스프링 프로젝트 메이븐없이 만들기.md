---
title:  "스프링 프로젝트 메이븐없이 만들기"
excerpt: "스프링 프로젝트 메이븐없이 만들기"

categories:
  - spring
tags:
  - [spring, 프레임워크]

toc: true
toc_sticky: true

last_modified_at: 2022-10-12T20:14:00-14:00
---

## 개요
: 스프링 프로젝트의 기본 생성 방법보다 아주 원초적으로 스프링 프로젝트가 필요한 최소요구조건이 무엇인지 알아야 한다. 이를 학습하기 위해 작성한다.

- 프로젝트: `Dynamic Web Project` 
- 템플릿: `Dynamic Web Project`

## 상세 
> [https://developer-syubrofo.tistory.com/m/14]https://developer-syubrofo.tistory.com/m/14

## 요약
: 위 참고블로그에서 직접 테스트도 해본 요약이다.

### (1) Dynamic Web Project 생성
: 프로젝트를 생성한다.

- Project name
  : 프로젝트 이름
- Target Runtime (서버설정)
  : 이미 설정을 보유한 서버를 선택 (일단은 None!)
- Dynamic web module version
  : JSP 2.3 이면 서블릿 3.1, JSP 2.2 이면 서블릿 3.0
- Configuration
  : 기본값(Default Configuration) 선택


### (2) 스프링 라이브러리 준비
: 스프링을 구동하기 위한 라이브러리를 준비한다. 

나는 관례적인 /WEB-INF/lib 안에 두었다.
{: .notice--info}

```
- aspectjrt-1.6.10.jar
- javax.imject-1.jar
- jcl-over-slf4j-1.6.6.jar
- jsp-api-2.1.jar
- jstl-1.2.jar
- junit-4.7.jar
- log4j-1.2.15.jar
- servlet-api-2.5.jar
- slf4j-api-1.6.6.jar
- slf4j-log4j12-1.6.6.jar
- spring-aop-4.3.9.RELEASE.jar
- spring-beans-4.3.9.RELEASE.jar
- spring-context-4.3.9.RELEASE.jar
- spring-core-4.3.9.RELEASE.jar
- spring-expression-4.3.9.RELEASE.jar
- spring-web-4.3.9.RELEASE.jar
- spring-webmvc-4.3.9.RELEASE.jar

```

### (3) Spring Bean Configuration File 생성

/WebContent/WEB-INF/**name-servlet.xml**  
(통상 spring-servlet.xml 를 이름을 부여함.)
{: .notice--info}

```xml
<?web version="1.0" encoding="UTF-8"?>
   <beans xmlns="http://www.springframework.org/schema/beans"
       xlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context" 
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
    
   <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
       <property name="prefix" value="/WEB-INF/spring/" />
       <property name="suffix" value=".jsp" />

   <context:annotation-config/>
    
   <bean class="spring.home.controller.HomeController"/>

   ```

- 코드를 작성 후 namespace 탭에서 bean, context 딱 2가지를 체크해준다. (필수)

### (4) web.xml 생성

/WebContent/WEB-INF/**web.xml**
{: .notice--info}

```xml
<?web version="1.0" encoding="UTF-8"?>
<web-app version="2.5" xmlns:web=http://xmlns.jcp.org/xml/ns/javaee">
    <!--  서블릿1  -->
    <servlet>
        <servlet-name>spring</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>spring</servlet-name>
        <url-pattern>*.do</url-pattern>
    </servlet-mapping>

    <!--  가장먼저 보여질 첫페이지를 설정해준다. 여기서는 WEB-INF 안에 접근가능하다. -->
    <welcome-file-list>
        <welcome-file>homd.do</welcome-file>
    </welcome-file-list>
</web-app>

```

### (5) 컨트롤러 작성

/src/**spring.home.controller**/**HomeController.java**
{: .notice--info}
  
```java
 @Controller
   public class HomeController {
     
   @RequestMapping(value="/home.do")
   public ModelAndView home() {
       Systme.out.pirnt("ModelAndView start >>>> ");
       return new ModelAndView("home")
     
   }
        
```

### (6) jsp 작성

/WebContext/WEB-INF/**spring**/**home.jsp**
{: .notice--info}

```jsp
<%@ page language="java" contentType="text/html; charset=EUC-KR"
  pageEncdoing="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert Title Here</title>
</head>
<body>
  hello world...!
</body>
</head>

```

### (7) 서버새로만들기
: 만든 프로젝트를 실행시키기 위한 담당 런타임 서버를 새로만든다.

1. Window - Preferences
2. Server - Runtime Environment - Add
3. 원하는 서버API 선택 (Pivotal, 톰캣 등등)
4. 다음 - 다음 - Create new instance
5. base 체크
6. 생성완료

### (8) 서버설정확인하기
: 만든 담당 런타임 서버를 확인해본다.

1. Window - Show View - Servers
2. 만든서버 더블클릭

***Server Locations***
- Use workspace metadata (does not modify tc Server installation)
: 기본 옵션이 Use workspace metadata ( does not modify Tomcat installation) 인데 이 항목으로 설정한 후 웹 프로젝트를 구동시키면 workspace\.metadata\-plugins\org.eclipse.w st.server.core 경로에 jsp파일이 컴파일되어 생성 되어 있는것을 확인할 수 있다.
	
- Use tc Server installation (takes control of tc Server installation)
: runtime environment 에 설정되어 있는 디렉토리에 파일을 컴파일 시키고 싶을 경우에는 이 두번쨰 항목을 선택. 간단하게 말하면 Deploy Path가 wtpwebapps 으로 지정된다 이때 주의할점이 있다. 여러 프로젝트에서 사용하는 경우 Deploy Path 를 다르게 지정하는것이 좋다.
    예를들어 webPrj1 프로젝트는 wtpwebapps / webPrj2 프로젝트는 wtpwebapps_2 / webPrj3 프로젝트는 wtpwebapps_3 이와 같이 하는게 좋다. 그렇지 않으면 프로젝트를 바꿔가면서 톰캣을  기동할때 문제가 생길 수 있다고 한다. 셋팅하는사람에 따라 아예 톰캣서버를 다르게 1개더 구축해서 쓰는 사람도 있다.
			
- Use custom location (does not modify tc Server installation)
: 특정 폴더에 컴파일 시키고 싶을 경우에는이  세번째 항목을 선택한 후 원하는 폴더를 선택해 주면 된다. 
해당 항목값을 변경시키고 싶을경우에는 서버를 C ean 한 이후 modul에 추가되어 있는 프로젝트를 먼저 제거해주어야 변경시킬수가 있다.

***Server Options***
- Server module without publishing
: 정적리소스를 바로 반영시킬 수 있다. html, js등 정적리소스를 수정한뒤에 바로 반영시킬 수 있다.

- Publish module contexts to separate XML files 
: 이클립스에서 환경설정이나 xml 파일 작업을하면 그것을 실제 톰켓이 있는 서버와 동기화 시킨다는 것이다.  (필요시 포트번호 수정)
		
- Modules auto reload by default
: 자바수정시 바로 서버재기동 해주는 기능이다. 체크한뒤 Modules 탭에서 Edit버튼을 눌러서 Auto 
reloading enabled 항목도 동시에 체크하면된다. (해제는 반대로) 이 결과는 결국 server.xml 에서 reloadabled 인가 옵션을 fals true로 바꾸는게 전부이다.


이어서 모듈탭으로 들어가서 Context Path 를 설정한다.  
보통 path를 / 로 지정해서 사용을 많이 한다.  
이렇게 셋팅하면 `http://localhost:8080/` 이 `Context Path` 가 된다.   

1. 만든서버 우클릭 - Run
2. 기동완료


