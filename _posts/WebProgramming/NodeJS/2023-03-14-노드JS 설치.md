---
title:  "노드JS 설치"
excerpt: "노드JS 설치 입니다."

categories:
  - nodejs
tags:
  - [node.js]

toc: true
toc_sticky: true

last_modified_at: 2023-03-14T20:00:00-05:00
---

## 폐쇄망에서 설치 (for Windows)
: 인터넷이 안되는 내부 환경에서 설치한다

**참고한 블로그 링크)**  
[https://doitnow-man.tistory.com/161](https://doitnow-man.tistory.com/161)
{: .notice--info}


## 모듈에 대하여
: 설치에 앞서 모듈에 대하여 설명한다.

### node.js 모듈 종류
- Core 모듈
    - node.js 에서 기본적으로 제공하는 모듈
    - require("module").builtinModules 로 확인 가능하다.
    
- third party 모듈
    - npm(Node Packaged Modules)으로 설치한 모듈(<span style="color:red"><b>node_modules 폴더 아래 설치된다.</b></span>)
    - 종류는 너무 많아 (https://www.npmjs.com/) 여기서 찾는게 좋다.
     
- local 모듈
    - 사용자가 만든 모듈

### node.js 모듈 관리
- node.js에서 모듈관리는 **npm(Node package manager)**를 통해서 이루어진다.
- npm은 통해서 설치, 업데이트, 삭제 ,프로젝트의 의존성을 관리 할 수 있다.
- npm으로 모듈을 관리 하기 위해서는 생성한 프로젝트에서 **npm init**을 해주면 된다.
- npm init을 한곳이 한개의 프로젝트라고 보면 된다.
  
> 1. npm init -y 간편 설정  
>     - 모든 것을 Default로 설정  
> 2. npm init  
>     - 모든 것을 수동으로 설정  
> 3. npm init 후 만들어진 npm의 의존성을 관리하는 파일(package.json)  
>      - npm으로 <span style="color:red"><b>install</b></span> 또는 <span style="color:red"><b>uninstall</b></span> 할때 마다 모듈이 <span style="color:red"><b>dependencies</b></span> 에 추가 되거나 삭제가 된다.  


### node.js 모듈 설치 방법

- Core 모듈
    - 기본적으로 node.js 에서 제공하기에 설치가 필요 없습니다.

- third party 모듈
    - node.js 에서 모듈 관리는 npm을 통해서 이루어 집니다.
    - npm을 통해서 설치, 업데이트, 삭제 를 할 수 있습니다.
      
        ```bash
        # (1) 설치 
        ## A. global 설치
        ## - 모든 프로젝트에서 사용 가능합니다.
        npm install -g [모듈명]

        ## B. local 설치
        ## - 설치되는 위치는 프로젝트 하위의 node_modules에 설치가 됩니다.
        ## - 설치된 프로젝트에서만 사용 가능합니다 
        npm install [모듈명]
        
        # (2) 삭제 
	      npm uninstall [모듈명]

        # (3) 업데이트 
	      npm update [모듈명]

        # (4) 검색
	      npm search [모듈명]
        
        ```
        
- local 모듈
    - local 모듈을 만들어 주어야한다.
    - 사용자가 만든것이기 때문에 설치 할 필요가 없다.

### node.js 모듈 설치경로

- Core 모듈
    - 내장 모듈이다.

- third party 모듈

  1. global 설치 위치  
  
      ```bash
      C:\Users\mt01301\AppData\Roaming\npm\node_modules
      
      ```
      
  2. third party 모듈
      
      1. global 설치 위치  
          
          ```
          C:\Users\mt01301\AppData\Roaming\npm\node_modules
          
          ```
          
      2. local 설치 위치
          - 현재 프로젝트하위의 node_modules 에 설치가 된다.  
  
  3. local 모듈  
      - 사용자가 만든것 이기 때문에 지정하기 나름이다.  
  
  
### node.js 모듈을 사용법
    
```bash
require("core모듈명")

```


### node.js 에서 모듈을 검색하는 순서
> ***모듈을 생성했는데 모듈을 찾지 못 할 경우 node.js에서 어떤 순서로 모듈을 찾는지 알 필요가 있다.***

- global 모듈 검색 위치
  - cmd 에서 아래 명령어로 확인가능
   
      ```
      npm -g root
      C:\Users\mt01301\AppData\Roaming\npm\node_modules  
      
      ```

- third party 모듈 또는 local 모듈 검색 위치
  - cmd에서 아래 명령어로 확인 가능
  - 현재 경로에서 하단계씩 올라가면서 node_modules를 찾는다.
  
       ```
       node -e "console.log(global.module.paths)"  
       [ 
         'C:\\User\\MT01301\\node_modules', 
         'C:\\User\\node_modules',
         'C:\\node_modules'
       ]
       
       ```


## 모듈에 대하여(local모듈:사용자 모듈) 추가내용

> ***local 모듈이란?***  
> 사용자가 코드관리는 위해 기능적으로 코드를 분리한 코드를 모듈이라고 한다.

### 생성하기
- <span style="color:red"><b>node.js에서 모듈은 파일 하나를 의미</b></span> 합니다.
- <span style="color:red"><b>모듈 파일에서 exports 객체에 메소드 및 프로퍼티를 추가 하면 해당 파일은 모듈로써 사용</b></span>하겠다는 의미 입니다.

    ```bash
    exports.module_name = 'test_module.js'  //

    exports.abs = function(number) {
        if (0 < number) {
            return number;
            } else {
            return -number;
        }
    };
    
    exports.circleArea = function (radius) {
        return radius * radius * Math.PI;
    }
    
    ```    
    
    
### 실전 사용법
- <span style="color:red"><b>require('모듈파일명')를 통하여 모듈을 로드 하여 사용</b></span> 가능 합니다.

    ```bash
    # 상기 모듈코드에서 만든 메소드(abs, circleArea), 프로퍼티(module_name)을 사용한 에제 입니다 
    var module = require('./module.js');
    
    console.log(module.abs(1));
    console.log(module.circleArea(1));
    console.log(module.module_name)
    
    # 결과 
    PS D:\jk_nodejs> node .\node_test.js
    1
    3.141592653589793
    test_module.js
      
    ```

## 설치
### Node.js 설치

> 공식홈페이지: [https://nodejs.org/en/](https://nodejs.org/en/)

1. node-v18.14.2-x86,msi 실행 후 설치
2. 설치 확인  
    ```bash
    npm -v
    9.5.0  # npm 버전 확인
    
    node -v
    v18.14.2  # Node.js 버전 확인
    
    ```
3. node.js 가 같이 설치되어있다. 

***잠깐!***
Node.js를 설치하면 NPM(Node Package Manager) 도 함께 설치되어진다.
{: .notice--info}


### Node.js 테스트

```bash
mkdir 노드JS연습디렉토리
cd 노드JS연습디렉토리

# JS파일 생성
touch main.js

```

```js
// main.js 작성
function sum(a,b) {
    return a + b;
}

console.log('sum = '+ sum(1,2)); 

```

```bash
# 이렇게 미리 생성된 JavaScript 파일을 우리는 node명령어를 통해 실행할 수가 있다.
node main.js 
sum = 3      # JS가 실행되었다.

```

### NPM 테스트
```bash
cd 노드JS연습디렉토리
npm init -y

## dir 명령어로 확인해보면 아래 파일이 생성되었다
dir
package.json  

```

***package.json***  
`package.json`은 프로젝트에 대한 명세라고 할 수 있다.  
해당 프로젝트의 이름, 버전, 사용되는 모듈 등의 스펙이 정해져 있으며, 
이 `package.json`을 통해 모듈 의존성 모듈 관리도 진행할 수 있다.
만약 어떤 오픈 소스를 다운 받을 때 이 `package.json`만 있다면 해당 오픈 소스가 의존하고 있는 모듈이 어떤 것인지.  
그리고 그 모듈들을  <span style="color:red"><b>npm install</b></span> 명령어로 한 번에 설치할 수 있다.
{: .notice--info}

```bash
# 생성된 내용은 다음과 같다.
vi package.json

{
  "description": ""
}

```

## 모듈설치
1. npm 설치를 완료하고(http://nodejs.org/ko/download/)
2. Source Root 경로에서 `npm insatall` 명령 수행 (`node_modules` 디렉토리에 의존라이브러리가 설치된다.)
3. 외부망이 아닌 경우 `node_modules.zip` 파일을 구해서 `/node_modules` 폴더에 압축해제
4. 이후 부터 `npm install 명령어 가능해진다.`
5. `npm install`해준다.

npm install 에러가 발생했다.  
폐쇄망이므로  `node_modules.zip` 파일을 구해서 머신전체가 인식하는 전역글로벌 영역에 넣는다.  
  
npm -g root 명령어로 글로벌영역 확인이 가능하다.  
{: .notice--info}


## NPM 실행하기 

```bash
npm run start  # 에러가 발생한다.

```
  
npm install 하지 않은채로 시작하니까 에러가 나는것이다.
  
```bash
npm -g root 

```

폐쇄망이므로 위 결과로 얻은 머신전체가 인식하는 전역글로벌 영역에 `node_modules.zip` 파일을 구해서 넣는다

```bash
npm install

```

인스톨 후 정상적으로 `npm run start` 명령어가 가능한지 확인한다.






