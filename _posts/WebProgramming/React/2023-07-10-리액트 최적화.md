---
title:  "리액트 최적화"
excerpt: "리액트 최적화 입니다."

categories:
  - react
tags:
  - [react]

toc: true
toc_sticky: true

last_modified_at: 2023-04-05T20:00:00-05:00
---

## AS-IS

```js
const onRemove = useCallback( (id) => {
    setTodos(todos.filter((todo) => todo.id !== id));
}, [todos])


const onToggle = useCallback( (id) => {
    setTodos(todos.map((todo) => 
        todo.id === id ? { ...todo, checked: !todo.checked } : todo,
    ));
}, [todos]);

```
> <span style="color:red"><I><b>설명)</b></I></span>  
> useCallback() 함수로 todos 이라는 useState 값이 변경분이 생길때만 함수를 갱신한다. (리렌더링 방지)

## TO-BE

```js
    const onRemove = useCallback( (id) => {
        setTodos(todos => (todos.filter((todo) => todo.id !== id)));
    }, []);


    const onToggle = useCallback( (id) => {
        setTodos(todos => ( 
                            todos.map((todo) => 
                                todo.id === id ? { ...todo, checked: !todo.checked } : todo,
                            )
        ));
            
    }, []);

```