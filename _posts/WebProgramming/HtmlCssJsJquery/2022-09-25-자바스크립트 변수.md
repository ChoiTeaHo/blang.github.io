---
title:  "자바스크립트 변수"
excerpt: "자바스크립트 변수 입니다."

categories:
  - html-css-js-jquery
tags:
  - [HTML,CSS,JS,jquery]

toc: true
toc_sticky: true

last_modified_at: 2022-09-01T20:00:00-05:00
---

## 자바스크립트 변수
: 참고블로그 [링크](https://yubylab.tistory.com/entry/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EB%B3%80%EC%88%98%EB%A1%9C-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0)
### [유효범위(scope)]

```js
function callYOU(){
     var myname = “james”;
     callAdam();
}

function callAdam(){
     return myname;
}
callYOU();

```

- 추측
  1. callYOU() 함수 호출
  2. 지역변수 myname 초기화
  3. callAdm() 함수 호출
  4. myname 변수는 미존재 하므로 에러

- 결과
  1. 위 추측과 동일

> 지역,전역 변수의 개념 그 자체이므로 설명은 생략한다.


### [호이스팅]

```js
function hoistingTest(){
     console.log(’greeting : ’ + hi);
     var hi = “hello”;
     console.log(’greeting : ’ + hi);
}
hoistingTest()

```

- 추측
  1. hoistingTest() 호출
  2. 로그에 사용된 hi 라는 변수의 값이 없으므로 error
 
- 결과
  1. hoistingTest() 호출
  2. 함수 내부의 변수가 존재하면 최상단으로 끌어올리고 값('undefined") 할당   //호이스팅 동작
  3. 첫번째 로그 "undefined" 출력 (hi 변수는 호이스팅으로 인해 할당되었지만 값이 없으므로)
  4. 변수 초기화 및 할당
  5. 두번째 로그 "hi" 출력

> 호이스팅이란?
> 자바스크립트에는 호이스팅이라는 개념이 존재한다.  
> 이는 변수의 선언과 변수의 할당을 구분하겠다는 개념이다.  
> 즉, 함수내의 선언된 어떤 위치의 변수든 함수의 최상단으로 끌어올려진다. 
> 그리고는 undefined로 임의의 값을 할당해버린다. 그리고 나중에 함수가 실행이 되면서 그 변수에 해당하는 값을 할당한다.
  
"아~ 그냥 변수는 함수가 호출되는 순간 최상단으로 불러서 undefined 으로 초기화 시켜주는구나 ! "
{: .notice--info}


### [실행 컨택스트]
: 자바스크립트에서 실행되는 모든 것들을 관리하는 부분이 바로 실행컨택스트 영역이다.

**(참고)JS의 코드유형**
: 그런데 글로벌 컨택스트의 경우에는 오직 하나만 존재하는 반면에 function, eval 컨택스트는 하나의 프로그램 내에서 여러개가 존재할 수 있다.  
- global 코드    ==> 오직하나만 존재 가능
- function 코드  ==> 하나의 프로그램 내에서 여러개 존재 가능
- eval 코드      ==> 하나의 프로그램 내에서 여러개 존재 가능

**간략한 실행 컨택스트 동작**

```js
function foo(bar){}
foo(10)
foo(20)
foo(30)

```

- 결과
  1. 함수가 각기 다른 인자를 가지고 세번 호출이 되었다. 
  2. 이 경우에는 서로 다른 실행컨택스트가 생성이 된다.
  3. 즉 동일한 함수의 실행이라도 이미존재하는 컨택스트를 재활용하는 것이 아닌 새로운 컨택스트를 계속 생성한다.

**실행 컨택스트 동작방식 전체흐름**  

1. 실행컨택스트는 [실행컨택스트의 스택(Stack)] 이라는 영역이 존재(FILO)
2. [실행컨택스트의 스택(Stack)]의 실행컨택스트는 현재 실행이 되고 있는 컨택스트를 의미하고 이를 callee(콜리) 라고 부른다.
3. [실행컨택스트의 스택(Stack)]의 실행컨택스트가 다른 컨택스트를 실행시키기 위해서 필요한것을 caller(콜러) 라고 부른다.
4. caller(콜러)가 어떠한 context를 실행하게 되면 기존에 caller(콜러)가 동작시키고 있던 실행의 흐름이 새롭게 동작하는 context, 즉 callee(콜리)로 변경이 된다.
5. 이때 callee(콜리)는 실행컨택스트의 최상단에 위치하게 되고 `[Active Context]` 라는 이름을 가지게 된다
6. callee(콜리), 즉 `[Active context]` 의 동작이 끝이 나면 실행흐름을 다시 caller(콜러)에게 전달하여 다른 context쪽으로 실행의 흐름을 변경하는 작업이 반복되게 된다. 
7. 동작을 마친 예전 callee(콜리)는 간단하게 return 하거나 exception과 함께 exit을 하게 된다.

여기까지가 실행컨텍스트의 전체적인 흐름이다.  
상세내용은 다음과 같다 
  
**실행 컨택스트 동작방식 상세흐름**  
: EXMAScript, 자바스크립트의 코드의 실행관리 형태  
  
1. 프로그램이 일단 실행이 되면 모두 글로벌 실행 컨택스트(global exceution context)로 들어오게 된다.(글로벌 컨택스트는 실행 컨택스트 스택의 제일 아래에 존재하며 이는 최초로 생성된 컨택스트를 의미하기도 한다.)
2. 들어온 글로벌 코드들이 몇몇 초기화 작업을 진행하며 필요한 객체나 함수들을 생성을 한다. 이렇게 글로벌 컨택스트가 실행이되는 동안 새로운 함수들이 생성이되고 실행이 되면서 [실행컨택스트의 스택(Stack)]내로 들어와 글로벌 컨택스트 위로 차곡차곡 쌓이게 된다.
3. 초기화가 끝이 나면 runtime 시스템은 사용자의 클릭이나 글로벌하게 발생하는 함수 실행같은 이벤트가 발생하기를 기다린다.
4. 이벤트가 발생이 하게 되면서 실행컨택스트 내의 컨택스트들이 하나하나동작을 하게 됩니다.


여기까지 간단하게 설명을 하면 컨택스트 스택에 컨택스트들이 차곡차곡 쌓이게 되고(글로벌 컨택스트 위로^^) 이를 
caller가 호출하면서 프로그램의 흐름을 관리한다는 말이다. 
{: .notice--info}



caller에 의해 호출은 되지 않지만 실행 컨택스트로 컨택스트가 추가가 되면 변수 객체에는 각 종 변수와 함수들이 프로퍼티로 정의 가되고 이때 모든 값은 undefined형태로 존재하게 됩니다.

